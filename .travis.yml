cache: bundler
language: ruby
before_install:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo add-apt-repository -y ppa:chris-lea/libsodium ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get update -q ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get install libsodium-dev ; fi
install:
  - 'gem update --system'
  - 'gem --version'
  - 'gem install bundler -v 1.16.1'
  - 'bundle --version'
  - bundle
rvm:
  - 2.4
  - 2.5
  - ruby-head
os:
  - linux
  - osx
addons:
  apt:
    packages:
      - libavahi-compat-libdnssd-dev
  homebrew:
    packages:
      - libsodium
notifications:
  email: false
